<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-center items-center">
    <h1 class="font-bold text-4xl text-center">Inventory</h1>
  </div>
  <div class="flex items-center justify-center py-4 md:py-8 flex-wrap">
    <button type="button" class="text-blue-700 hover:text-white border border-blue-600 bg-white hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500 dark:bg-gray-900 dark:focus:ring-blue-800 filter-button" data-filter="all">All categories</button>
    <button type="button" class="text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:bg-gray-900 dark:hover:border-gray-700 bg-white focus:ring-4 focus:outline-none focus:ring-gray-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white dark:focus:ring-gray-800 filter-button" data-filter="Normal">Normal</button>
    <button type="button" class="text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:bg-gray-900 dark:hover:border-gray-700 bg-white focus:ring-4 focus:outline-none focus:ring-gray-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white dark:focus:ring-gray-800 filter-button" data-filter="Effect">Effect</button>
    <button type="button" class="text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:bg-gray-900 dark:hover:border-gray-700 bg-white focus:ring-4 focus:outline-none focus:ring-gray-300 rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white dark:focus:ring-gray-800 filter-button" data-filter="Trap">Trap</button>
  </div>
  <div class="grid grid-cols-2 md:grid-cols-5 gap-4" id="card-container">
  <% if @inventory.cards.present? %>
    <% @inventory.cards.each do |card| %>
      <%= render partial: 'cards/card', locals: {card:card} %>
    <% end %>
  <% end %>
  </div>

</div>

<script>
  document.addEventListener('DOMContentLoaded',function(){
    const filterButtons = document.querySelectorAll('.filter-button');
    const cardContainer = document.getElementById('card-container');

    filterButtons.forEach(function(button){
      button.addEventListener('click',function(){
        const filter = this.getAttribute('data-filter');
        const cards = document.querySelectorAll('.card');

        cards.forEach(function(card){
          const cardType = card.getAttribute('data-type');
          if (filter === 'all' || cardType === filter){
            card.style.display = 'block';
          }
          else
          {
            card.style.display='none';
          }
        });
      });
    });
  });
</script>
